<h1 mat-dialog-title>Create new task</h1>
<div mat-dialog-content>
    
        <mat-form-field appearance="fill">
            <mat-label>Task title</mat-label>
            <input matInput placeholder="Finir le ..." name="task_title" ngDefaultControl [(ngModel)]="taskTitle">
            <mat-hint>Qq chose bref et clair</mat-hint>
        </mat-form-field>
    
    <p>
        <mat-form-field appearance="fill">
            <mat-label>Select</mat-label>
            <mat-select [(ngModel)]="projectTitle" name="project_title" ngDefaultControl>
                <div *ngFor="let project of this.projectTitles">
                    <mat-option value="{{project}}">{{project}}</mat-option>
                </div>
            </mat-select>
        </mat-form-field>
    </p>
    <p>
        <mat-form-field appearance="fill">
            <mat-label>Description de la t√¢che</mat-label>
            <textarea matInput rows="5" [(ngModel)]="taskDescription" name="task_description" ngDefaultControl></textarea>
        </mat-form-field>
    <p>
        <mat-form-field appearance="fill">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" [(ngModel)]="taskDeadline">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker [(ngModel)]="taskDeadline" name="task_deadline" ngDefaultControl (selectedChanged)="onChange($event)"></mat-datepicker>
        </mat-form-field>
    </p>

    <mat-form-field appearance="fill">
        <mat-label>Select users</mat-label>
        <mat-select [(value)]="profs" multiple>
            <mat-option *ngFor="let user of users" [value]="user">
            {{user.first_name + ' ' + user.last_name}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Select Status</mat-label>
        <mat-select [(value)]="status">
            <mat-option value="Pending">Pending</mat-option>
            <mat-option value="In Progress">In Progress</mat-option>
            <mat-option value="Completed">Completed</mat-option>
        </mat-select>
    </mat-form-field>

    <label for="singleFile">Upload file</label>
    <br>
    <input id="singleFile" type="file" [fileUploadInputFor]= "fileUploadQueue"/>
    <br>

    <mat-file-upload-queue #fileUploadQueue
        [fileAlias]="'file'"
        [httpUrl]="'http://localhost:8180/jax-rs-jersey-application-sample'">

        <mat-file-upload [file]="file" [id]="i" *ngFor="let file of fileUploadQueue.files; let i = index"></mat-file-upload>
    </mat-file-upload-queue>

</div>
<div mat-dialog-actions>
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-button mat-dialog-close (click)="create(data[data.length-1].id+1, projectTitles.indexOf(projectTitle)+1)">Create</button>
</div>
